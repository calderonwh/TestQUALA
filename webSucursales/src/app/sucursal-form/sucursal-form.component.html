<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2 class="text-center">{{ isEdit ? 'Editar Sucursal' : 'Crear Sucursal' }}</h2>
      <form [formGroup]="sucursalForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Código:</label>
          <input formControlName="codigo" type="number" class="form-control" required />
          <div *ngIf="codigo?.invalid && (codigo?.touched || codigo?.dirty)">
            <small class="text-danger" *ngIf="codigo?.errors?.['required']">El código es requerido.</small>
            <small class="text-danger" *ngIf="codigo?.errors?.['min']">El código debe ser mayor que 0.</small>
          </div>
        </div>

        <div class="form-group">
          <label>Descripción:</label>
          <input formControlName="descripcion" type="text" class="form-control" required />
          <div *ngIf="descripcion?.invalid && (descripcion?.touched || descripcion?.dirty)">
            <small class="text-danger" *ngIf="descripcion?.errors?.['required']">La descripción es requerida.</small>
            <small class="text-danger" *ngIf="descripcion?.errors?.['minlength']">La descripción debe tener al menos 3 caracteres.</small>
          </div>
        </div>

        <div class="form-group">
          <label>Dirección:</label>
          <input formControlName="direccion" type="text" class="form-control" required />
          <div *ngIf="direccion?.invalid && (direccion?.touched || direccion?.dirty)">
            <small class="text-danger" *ngIf="direccion?.errors?.['required']">La dirección es requerida.</small>
            <small class="text-danger" *ngIf="direccion?.errors?.['minlength']">La dirección debe tener al menos 5 caracteres.</small>
          </div>
        </div>

        <div class="form-group">
          <label>Identificación:</label>
          <input formControlName="identificacion" type="text" class="form-control" required />
          <div *ngIf="identificacion?.invalid && (identificacion?.touched || identificacion?.dirty)">
            <small class="text-danger" *ngIf="identificacion?.errors?.['required']">La identificación es requerida.</small>
            <small class="text-danger" *ngIf="identificacion?.errors?.['pattern']">La identificación solo puede contener letras y números.</small>
          </div>
        </div>

        <div class="form-group">
          <label>Moneda:</label>
          <select formControlName="idMoneda" class="form-control">
            <option *ngFor="let moneda of monedas" [value]="moneda.idMoneda">{{ moneda.nombre }}</option>
          </select>
        </div>
        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-success me-1" [disabled]="sucursalForm.invalid">{{ isEdit ? 'Actualizar' : 'Crear' }}</button>
          <button type="button" class="btn btn-secondary btn-block" (click)="onCancel()">Cancelar</button>
        </div>
      </form>
    </div>
  </div>
</div>
